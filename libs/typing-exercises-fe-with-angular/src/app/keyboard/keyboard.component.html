<div class="container" [style.gap.px]="getKeyboardGap$()">
  @for (
    lines of getHHKBKeyboardConfig$() | async;
    track lines;
    let index = $index
  ) {
    <div
      [class]="'line'"
      [ngClass]="{ 'last-line': isLastLine(index) }"
      [style.gap.px]="getKeyboardGap$()"
    >
      @for (kii of lines; track kii) {
        <app-keyboard-item
          [variant]="kii.variant"
          [line1]="kii?.line1"
          [line2]="kii?.line2"
          [width]="kii.width ?? getDefaultWidth$()"
          [height]="kii.height ?? getDefaultHeight$()"
          [color]="kii.color"
          [flag]="kii.flag"
        ></app-keyboard-item>
      }
      @if (isLastLine(index)) {
        <div class="logo">
          <img
            height="52"
            src="https://github.com/hanhan9449/images/blob/main/hhkb-logo.png?raw=true"
          />
        </div>
      }
    </div>
  }
</div>
